<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../jQurey/jquery.min.js"></script>
</head>
<body>
    <input type="file" name="file1" id="file1"/>
    <button id="btnUpload">上传文件</button>
    <img src="" alt="" id="imgs" style="width: 600px; margin: 15px;">
    <script>
      $('#btnUpload').on('click',function(){
        var files = $('#file1')[0].files
        if(files.length <= 0){
            return alert('请选择图片后再上传')
        }
        var fd = new FormData()
        fd.append('ava',files[0])
        $.ajax({
            method:'POST',
            url:'http://www.liulongbin.top:3006/api/upload/avatar',
            data:fd,
            contentType:false,
            processData:false,
            success:function(res){
              if(res.status === 200){
                $('#imgs').attr('src','http://liulongbin.top:3006' + res.url);
              }else{
                alert(res.message);
              }
            }
        })
      })  
    </script>
    
</body>
</html>